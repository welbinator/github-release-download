document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".github-release-button").forEach((t=>{t.addEventListener("click",(async function(){const e=t.getAttribute("data-api-url");if(!e)return alert("Missing GitHub API URL.");try{const t=await fetch(`/wp-admin/admin-ajax.php?action=get_release_data&url=${encodeURIComponent(e)}`),a=await t.json();a.success&&a.data.download_url?window.location.href=a.data.download_url:alert(a.data?.message||"Download failed.")}catch(t){console.error(t),alert("Error fetching release.")}finally{t.textContent=t.getAttribute("data-original-text")||"Download from GitHub"}}))}))}));